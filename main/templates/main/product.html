{% extends "base.html" %} {% block content %}
<div class="container mx-auto px-4 py-2 overflow-x-hidden">
  <div class="grid lg:grid-cols-2 gap-10 items-start mb-16">
    <div class="w-full">
      <div
        class="relative w-full aspect-[4/3] rounded-xl overflow-hidden shadow-lg"
      >
        <img
          src="{{ product.thumbnail }}"
          alt="{{ product.name }}"
          class="w-full h-full object-cover {% if product.flip_thumbnail %}-scale-x-100{% endif %}"
        />
      </div>
    </div>

    <div class="space-y-6">
      <div>
        <h1 class="text-3xl font-bold mb-3">{{ product.name }}</h1>
        <div class="flex flex-wrap gap-2 mb-4">
          <span class="badge badge-outline">{{ product.brand.name }}</span>

          <span class="badge badge-neutral">{{ product.category }}</span>

          <span class="badge badge-secondary">Size: {{ product.size }}</span>

          <span class="badge badge-success">Stock: {{ product.stock }}</span>
        </div>
      </div>

      <div class="flex items-center gap-2">
        <div class="flex">
          {% for i in "12345" %} {% if forloop.counter <= product.rating %}
          <svg class="w-5 h-5 fill-yellow-400" viewBox="0 0 20 20">
            <path
              d="M10 15.27L16.18 19l-1.64-7.03L20 7.24l-7.19-.61L10 0 7.19 6.63 0 7.24l5.46 4.73L3.82 19z"
            ></path>
          </svg>
          {% else %}
          <svg class="w-5 h-5 fill-gray-300" viewBox="0 0 20 20">
            <path
              d="M10 15.27L16.18 19l-1.64-7.03L20 7.24l-7.19-.61L10 0 7.19 6.63 0 7.24l5.46 4.73L3.82 19z"
            ></path>
          </svg>
          {% endif %} {% endfor %}
        </div>
        <span class="text-sm text-base-content/70"
          >{{ product.rating|floatformat:1 }}/5</span
        >
      </div>

        <div class="text-3xl font-bold">
          Rp {{ product.price }}
        </div>

      <div>
        <h2 class="text-xl font-semibold mb-3">Deskripsi Produk</h2>
        <p
          class="leading-relaxed text-base-content/80 break-words whitespace-pre-line"
        >
          {{ product.description }}
        </p>
      </div>


      <div class="flex flex-col sm:flex-row gap-3">
        <button class="btn btn-primary" onclick="my_modal_1.showModal()">Beli Sekarang</button>
      </div>
      <dialog id="my_modal_1" class="modal">
        <div class="modal-box">
          <h3 class="text-lg font-bold">Masih belom selesai</h3>
          <p class="py-4">Jangan pikir saya ngerjain semua sampai checkout, capek tau</p>
          <div class="modal-action">
            <form method="dialog">
              <button class="btn btn-ghost">Tutup</button>
            </form>
          </div>
        </div>
      </dialog>

      <div class="text-xs text-base-content/60 space-y-1">
        <div>Product ID: {{ product.id }}</div>
        <div>Ditambahkan: {{ product.created_at|date:"d M Y" }}</div>
        <div>Terakhir update: {{ product.updated_at|date:"d M Y H:i" }}</div>
      </div>
    </div>
  </div>

  <div class="mt-8">
    <a href="{% url 'main:show_main' %}" class="btn btn-ghost">
      <span class="gap-2"> ‚Üê </span>
      Kembali ke Beranda
    </a>
  </div>
</div>
{% endblock %}
